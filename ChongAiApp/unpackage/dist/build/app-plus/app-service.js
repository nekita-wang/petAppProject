if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},n=t({__name:"login",setup(t){const n=e.ref(!1),i=()=>{n.value?uni.navigateTo({url:"/pages/login/sms"}):uni.showToast({title:"请先同意用户协议和隐私政策",icon:"none"})},o=()=>{uni.showToast({title:"暂不支持其他登录方式，敬请期待",icon:"none"})},r=e=>{n.value=e.detail.value.length>0};return(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"logo"},[e.createElementVNode("image",{src:"/static/logo.png",mode:"",style:{width:"350rpx",height:"350rpx","border-radius":"50%"}})]),e.createElementVNode("view",{class:"title"}," 宠爱 "),e.createElementVNode("view",{class:"button-box"},[e.createElementVNode("button",{type:"primary",class:"sjh",onClick:i},"手机号登录/注册"),e.createElementVNode("button",{type:"default",class:"qt",onClick:o},"其他方式登录> ")]),e.createTextVNode("、 "),e.createElementVNode("view",{class:"desc"},[e.createElementVNode("view",{class:"desc-content"},[e.createElementVNode("checkbox-group",{onChange:r},[e.createElementVNode("checkbox",{style:{transform:"scale(0.7)"},color:"#007aff"})],32),e.createElementVNode("text",{class:"desc"},[e.createTextVNode(" 我已阅读并同意 "),e.createElementVNode("text",{class:"link",onClick:n[0]||(n[0]=e=>t.navigateTo("agreement"))},"《宠主用户协议》"),e.createTextVNode("、 "),e.createElementVNode("text",{class:"link",onClick:n[1]||(n[1]=e=>t.navigateTo("privacy"))},"《个人信息保护政策》"),e.createTextVNode("， 我已明确知晓宠主平台禁止未满18周岁的未成年注册和使用 ")])])])]))}},[["__scopeId","data-v-ae702f32"]]);function i(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function o(e,t){return"string"==typeof e?t:e}const r=(t=>(n,i=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,n,i)})("onLoad"),s=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const a=t({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:s}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,n,i,o,r,s){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(s.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+i.type,i.customPrefix,i.customPrefix?i.type:""]]),onClick:n[0]||(n[0]=(...e)=>s._onClick&&s._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-5610c8db"]]);
/*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */
let l;const c=e=>l=e,u=Symbol();function h(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var f,d;(d=f||(f={})).direct="direct",d.patchObject="patch object",d.patchFunction="patch function";const p=()=>{};function g(t,n,i,o=p){t.push(n);const r=()=>{const e=t.indexOf(n);e>-1&&(t.splice(e,1),o())};return!i&&e.getCurrentScope()&&e.onScopeDispose(r),r}function m(e,...t){e.slice().forEach((e=>{e(...t)}))}const v=e=>e();function y(t,n){t instanceof Map&&n instanceof Map&&n.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const i in n){if(!n.hasOwnProperty(i))continue;const o=n[i],r=t[i];h(r)&&h(o)&&t.hasOwnProperty(i)&&!e.isRef(o)&&!e.isReactive(o)?t[i]=y(r,o):t[i]=o}return t}const b=Symbol();const{assign:w}=Object;function E(t,n,i={},o,r,s){let a;const l=w({actions:{}},i),u={deep:!0};let d,E,S,T=[],V=[];const x=o.state.value[t];let _;function N(n){let i;d=E=!1,"function"==typeof n?(n(o.state.value[t]),i={type:f.patchFunction,storeId:t,events:S}):(y(o.state.value[t],n),i={type:f.patchObject,payload:n,storeId:t,events:S});const r=_=Symbol();e.nextTick().then((()=>{_===r&&(d=!0)})),E=!0,m(T,i,o.state.value[t])}s||x||(o.state.value[t]={}),e.ref({});const k=s?function(){const{state:e}=i,t=e?e():{};this.$patch((e=>{w(e,t)}))}:p;function B(e,n){return function(){c(o);const i=Array.from(arguments),r=[],s=[];function a(e){r.push(e)}function l(e){s.push(e)}let u;m(V,{args:i,name:e,store:C,after:a,onError:l});try{u=n.apply(this&&this.$id===t?this:C,i)}catch(h){throw m(s,h),h}return u instanceof Promise?u.then((e=>(m(r,e),e))).catch((e=>(m(s,e),Promise.reject(e)))):(m(r,u),u)}}const D={_p:o,$id:t,$onAction:g.bind(null,V),$patch:N,$reset:k,$subscribe(n,i={}){const r=g(T,n,i.detached,(()=>s())),s=a.run((()=>e.watch((()=>o.state.value[t]),(e=>{("sync"===i.flush?E:d)&&n({storeId:t,type:f.direct,events:S},e)}),w({},u,i))));return r},$dispose:function(){a.stop(),T=[],V=[],o._s.delete(t)}},C=e.reactive(D);o._s.set(t,C);const I=(o._a&&o._a.runWithContext||v)((()=>o._e.run((()=>(a=e.effectScope()).run(n)))));for(const c in I){const n=I[c];if(e.isRef(n)&&(O=n,!e.isRef(O)||!O.effect)||e.isReactive(n))s||(!x||h(A=n)&&A.hasOwnProperty(b)||(e.isRef(n)?n.value=x[c]:y(n,x[c])),o.state.value[t][c]=n);else if("function"==typeof n){const e=B(c,n);I[c]=e,l.actions[c]=n}}var A,O;return w(C,I),w(e.toRaw(C),I),Object.defineProperty(C,"$state",{get:()=>o.state.value[t],set:e=>{N((t=>{w(t,e)}))}}),o._p.forEach((e=>{w(C,a.run((()=>e({store:C,app:o._a,pinia:o,options:l}))))})),x&&s&&i.hydrate&&i.hydrate(C.$state,x),d=!0,E=!0,C}const S=function(t,n,i){let o,r;const s="function"==typeof n;function a(t,i){const a=e.hasInjectionContext();(t=t||(a?e.inject(u,null):null))&&c(t),(t=l)._s.has(o)||(s?E(o,n,r,t):function(t,n,i,o){const{state:r,actions:s,getters:a}=n,l=i.state.value[t];let u;u=E(t,(function(){l||(i.state.value[t]=r?r():{});const n=e.toRefs(i.state.value[t]);return w(n,s,Object.keys(a||{}).reduce(((n,o)=>(n[o]=e.markRaw(e.computed((()=>{c(i);const e=i._s.get(t);return a[o].call(e,e)}))),n)),{}))}),n,i,0,!0)}(o,r,t));return t._s.get(o)}return"string"==typeof t?(o=t,r=s?i:n):(r=t,o=t.id),a.$id=o,a}("auth",(()=>{const t=e.ref(""),n=e.ref(""),i=e.ref("");return{token:t,userId:n,phone:i,setUserInfo:e=>{t.value=e.token||"",n.value=e.userId||"",i.value=e.phone||"",uni.setStorageSync("authInfo",JSON.stringify({token:t.value,userId:n.value,phone:i.value}))},clearUserInfo:()=>{t.value="",n.value="",i.value="",uni.removeStorageSync("authInfo")}}}));function T(e={}){let{url:t,method:n="GET",data:i={},header:o={}}=e;t="http://115.120.195.253"+t,o={"Content-Type":"application/json",...o};const r=(e=>{const t=S().token;return t&&(e.header={...e.header,Authorization:`Bearer ${t}`}),e})({url:t,method:n,data:i,header:o});return new Promise(((e,t)=>{uni.request({url:r.url,method:r.method,data:JSON.stringify(r.data),header:r.header,success:n=>{n.statusCode>=200&&n.statusCode<300?e(n.data):t(n.data)},fail:e=>{t({errMsg:e.errMsg,statusCode:-1})}})}))}function V(e,t,n,i){return T({url:"/app/auth/login",method:"POST",data:{grantType:e,phone:t,password:n,code:i}})}const x=t({__name:"sms",setup(t){const n=e.ref("phone"),r=e.ref(""),s=e.ref(""),l=e.ref(!1),c=e.ref(!1),u=e.ref(!1),h=e.ref(0),f=()=>{uni.navigateTo({url:"/pages/login/pwd"})},d=()=>{uni.navigateBack()},p=e.computed((()=>/^1[3-9]\d{9}$/.test(r.value))),g=e=>{r.value=e.detail.value.replace(/[^\d]/g,""),l.value=p.value,c.value=!p.value},m=e.computed((()=>0!==r.value.length&&0!==s.value.length)),v=async()=>{if(h.value>0)return;let e=await function(e,t){return T({url:"/app/auth/sendCode",method:"POST",data:{phone:e}})}(r.value);if(1==e.success){uni.showToast({title:"验证码已发送,注意短信通知",icon:"success"}),h.value=60;const t=setInterval((()=>{h.value<=0?clearInterval(t):h.value--}),1e3);i("log","at pages/login/sms.vue:118","验证码：",e.data),s.value=e.data}else uni.showToast({title:e.msg,icon:"error"})},y=async()=>{let e=await V(n.value,r.value,null,s.value);if(1==e.success){S().setUserInfo({token:e.data.token,userId:e.data.userId,phone:r.value}),(e.data.newUser=!0)?uni.navigateTo({url:"/pages/login/register"}):uni.navigateTo({url:"/pages/petSelection/petSelection"})}else i("log","at pages/login/sms.vue:153",e),uni.showToast({title:e.msg,icon:"error"})};return(t,n)=>{const i=o(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"status_bar"}),e.createElementVNode("view",{class:"custom-navbar"},[e.createElementVNode("view",{class:"nav-left"},[e.createVNode(i,{onClick:d,type:"arrow-left",size:"24"})]),e.createElementVNode("view",{class:"nav-right",onClick:f}," 手机号密码登录 ")]),e.createElementVNode("view",{class:"phone-box"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("view",{class:"prefix"},"+86"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>r.value=e),type:"number",placeholder:"请输入手机号","placeholder-class":"placeholder",maxlength:"11",class:e.normalizeClass({error:c.value}),onInput:g,onFocus:n[1]||(n[1]=e=>u.value=!0)},null,34),[[e.vModelText,r.value]])]),e.createElementVNode("view",{class:"input-group-code"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),type:"number",placeholder:"输入验证码","placeholder-class":"placeholder",maxlength:"6"},null,512),[[e.vModelText,s.value]]),l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"divider"})):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"get-code-btn",onClick:v},e.toDisplayString(h.value>0?`${h.value}s`:"获取验证码"),1)):e.createCommentVNode("",!0)]),e.createElementVNode("button",{class:"login-btn",disabled:!m.value,onClick:y}," 登录 ",8,["disabled"]),e.createElementVNode("view",{class:"tip"},"未注册时，登录将自动注册")])])}}},[["__scopeId","data-v-a68e8754"]]),_=t({__name:"pwd",setup(t){const n=e.ref("password"),r=e.ref(""),s=e.ref(""),l=e.ref(!1),c=e.ref(!1);e.ref("");const u=e.ref(!1),h=()=>{uni.navigateTo({url:"/pages/login/sms"})},f=()=>{uni.navigateBack()},d=e=>{r.value=e.detail.value.replace(/[^\d]/g,"");let t=e.detail.value;if(1===t.length&&"1"!==t)return r.value="",uni.showToast({title:"请输入正确的手机号",icon:"none"});l.value=r.value.length>0&&!p.value},p=e.computed((()=>/^1[3-9]\d{9}$/.test(r.value))),g=()=>{c.value=!c.value},m=e.computed((()=>0!==r.value.length&&0!==s.value.length)),v=async()=>{let e=await V(n.value,r.value,s.value);if(i("log","at pages/login/pwd.vue:107",e),200==e.code){uni.navigateTo({url:"/pages/petSelection/petSelection"});S().setUserInfo({token:e.data.token,userId:e.data.userId,phone:r.value})}else 1e3==e.code?u.value=!0:uni.showToast({title:e.msg,icon:"none"})};return(t,n)=>{const i=o(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"status_bar"}),e.createElementVNode("view",{class:"custom-navbar"},[e.createElementVNode("view",{class:"nav-left"},[e.createVNode(i,{onClick:f,type:"arrow-left",size:"24"})]),e.createElementVNode("view",{class:"nav-right",onClick:h}," 手机号验证码登录 ")]),e.createElementVNode("view",{class:"phone-box"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("view",{class:"prefix"},"+86"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>r.value=e),type:"number",placeholder:"请输入手机号","placeholder-class":"placeholder",maxlength:"11",class:e.normalizeClass({error:l.value}),onInput:d,onFocus:n[1]||(n[1]=e=>t.showKeyboard=!0)},null,34),[[e.vModelText,r.value]])]),e.createElementVNode("view",{class:"input-group-pwd"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),password:!c.value,placeholder:"请输入密码","placeholder-class":"placeholder","disable-default-paste":!0,maxlength:"10"},null,8,["password"]),[[e.vModelText,s.value]]),e.createElementVNode("view",{class:"eye-btn",onClick:g},[e.createElementVNode("image",{src:c.value?"/static/eye.svg":"/static/eye_close.svg",class:"eye-icon"},null,8,["src"])])]),u.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pwdErr-text"}," 该账号无法使用密码登录，建议切换其他方式登录。 ")):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"login-btn",disabled:!m.value,onClick:v},"登录",8,["disabled"])])])}}},[["__scopeId","data-v-c63cd504"]]),N="/static/nan.svg",k="/static/nv.svg";var B="object"==typeof global&&global&&global.Object===Object&&global,D="object"==typeof self&&self&&self.Object===Object&&self,C=B||D||Function("return this")(),I=C.Symbol,A=Object.prototype,O=A.hasOwnProperty,R=A.toString,j=I?I.toStringTag:void 0;var P=Object.prototype.toString;var L=I?I.toStringTag:void 0;function M(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=O.call(e,j),n=e[j];try{e[j]=void 0;var i=!0}catch(r){}var o=R.call(e);return i&&(t?e[j]=n:delete e[j]),o}(e):function(e){return P.call(e)}(e)}var F=/\s/;var q=/^\s+/;function U(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&F.test(e.charAt(t)););return t}(e)+1).replace(q,""):e}function H(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var z=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,K=/^0o[0-7]+$/i,G=parseInt;function Z(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==M(e)}(e))return NaN;if(H(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=H(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=U(e);var n=$.test(e);return n||K.test(e)?G(e.slice(2),n?2:8):z.test(e)?NaN:+e}var W=function(){return C.Date.now()},Y=Math.max,J=Math.min;function X(e,t,n){var i,o,r,s,a,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function p(e){return c=e,a=setTimeout(m,t),u?d(e):s}function g(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=r}function m(){var e=W();if(g(e))return v(e);a=setTimeout(m,function(e){var n=t-(e-l);return h?J(n,r-(e-c)):n}(e))}function v(e){return a=void 0,f&&i?d(e):(i=o=void 0,s)}function y(){var e=W(),n=g(e);if(i=arguments,o=this,l=e,n){if(void 0===a)return p(l);if(h)return clearTimeout(a),a=setTimeout(m,t),d(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=Z(t)||0,H(n)&&(u=!!n.leading,r=(h="maxWait"in n)?Y(Z(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=o=a=void 0},y.flush=function(){return void 0===a?s:v(W())},y}const Q=t({__name:"DatePicker",props:{modelValue:String,defaultDate:{type:Date,default:()=>new Date}},emits:["update:modelValue","date-change"],setup(t,{emit:n}){const i=n,o=e.ref(""),r=new Date,s=e.ref([]),a=e.ref(r.getFullYear()),l=e.ref([]),c=e.ref(r.getMonth()+1),u=e.ref([]),h=e.ref(r.getDate()),f=e.ref([]),d=()=>{l.value=[];const e=a.value===r.getFullYear()?r.getMonth()+1:12;for(let t=1;t<=e;t++)l.value.push(t);c.value>e&&(c.value=e)},p=()=>{u.value=[];let e=new Date(a.value,c.value,0).getDate();a.value===r.getFullYear()&&c.value===r.getMonth()+1&&(e=r.getDate());for(let t=1;t<=e;t++)u.value.push(t);h.value>e&&(h.value=e)},g=e=>{const[t,n,o]=e.detail.value;a.value=s.value[t],t!==f.value[0]&&(d(),c.value=l.value[Math.min(n,l.value.length-1)]),c.value=l.value[n],p(),h.value=u.value[Math.min(o,u.value.length-1)],f.value=[s.value.indexOf(a.value),l.value.indexOf(c.value),u.value.indexOf(h.value)];const r=`${a.value}-${String(c.value).padStart(2,"0")}-${String(h.value).padStart(2,"0")}`;i("date-change",r)};return e.onMounted((()=>{(()=>{for(let e=1950;e<=r.getFullYear();e++)s.value.push(e);d(),p(),s.value.indexOf(a.value),l.value.indexOf(c.value),u.value.indexOf(h.value),f.value=[74,5,5],o.value=`height: ${uni.upx2px(80)}px;`})()})),(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"date-picker-wrapper"},[e.createElementVNode("picker-view",{class:"picker",value:f.value,onChange:g,"indicator-style":o.value},[e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t},e.toDisplayString(t)+"年",1)))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t},e.toDisplayString(t)+"月",1)))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t},e.toDisplayString(t)+"日",1)))),128))])],40,["value","indicator-style"])]))}},[["__scopeId","data-v-41d8d18c"]]);function ee(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function te(e,t){return e&t}function ne(e,t){return e|t}function ie(e,t){return e^t}function oe(e,t){return e&~t}function re(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function se(e){for(var t=0;0!=e;)e&=e-1,++t;return t}var ae,le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ce(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=le.charAt(n>>6)+le.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=le.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=le.charAt(n>>2)+le.charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i}function ue(e){var t,n="",i=0,o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var r=le.indexOf(e.charAt(t));r<0||(0==i?(n+=ee(r>>2),o=3&r,i=1):1==i?(n+=ee(o<<2|r>>4),o=15&r,i=2):2==i?(n+=ee(o),n+=ee(r>>2),o=3&r,i=3):(n+=ee(o<<2|r>>4),n+=ee(15&r),i=0))}return 1==i&&(n+=ee(o<<2)),n}var he,fe=function(e){var t;if(void 0===ae){var n="0123456789ABCDEF",i=" \f\n\r\t \u2028\u2029";for(ae={},t=0;t<16;++t)ae[n.charAt(t)]=t;for(n=n.toLowerCase(),t=10;t<16;++t)ae[n.charAt(t)]=t;for(t=0;t<i.length;++t)ae[i.charAt(t)]=-1}var o=[],r=0,s=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(-1!=(a=ae[a])){if(void 0===a)throw new Error("Illegal character at offset "+t);r|=a,++s>=2?(o[o.length]=r,r=0,s=0):r<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return o},de={decode:function(e){var t;if(void 0===he){var n="= \f\n\r\t \u2028\u2029";for(he=Object.create(null),t=0;t<64;++t)he["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(he["-"]=62,he._=63,t=0;t<n.length;++t)he[n.charAt(t)]=-1}var i=[],o=0,r=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=he[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);o|=s,++r>=4?(i[i.length]=o>>16,i[i.length]=o>>8&255,i[i.length]=255&o,o=0,r=0):o<<=6}}switch(r){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=o>>10;break;case 3:i[i.length]=o>>16,i[i.length]=o>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=de.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return de.decode(e)}},pe=1e13,ge=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var n,i,o=this.buf,r=o.length;for(n=0;n<r;++n)(i=o[n]*e+t)<pe?t=0:i-=(t=0|i/pe)*pe,o[n]=i;t>0&&(o[n]=t)},e.prototype.sub=function(e){var t,n,i=this.buf,o=i.length;for(t=0;t<o;++t)(n=i[t]-e)<0?(n+=pe,e=1):e=0,i[t]=n;for(;0===i[i.length-1];)i.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,n=t[t.length-1].toString(),i=t.length-2;i>=0;--i)n+=(pe+t[i]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var e=this.buf,t=0,n=e.length-1;n>=0;--n)t=t*pe+e[n];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),me=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,ve=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function ye(e,t){return e.length>t&&(e=e.substring(0,t)+"…"),e}var be,we=function(){function e(t,n){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,n){for(var i="",o=e;o<t;++o)if(i+=this.hexByte(this.get(o)),!0!==n)switch(15&o){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.isASCII=function(e,t){for(var n=e;n<t;++n){var i=this.get(n);if(i<32||i>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var n="",i=e;i<t;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",i=e;i<t;){var o=this.get(i++);n+=o<128?String.fromCharCode(o):o>191&&o<224?String.fromCharCode((31&o)<<6|63&this.get(i++)):String.fromCharCode((15&o)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},e.prototype.parseStringBMP=function(e,t){for(var n,i,o="",r=e;r<t;)n=this.get(r++),i=this.get(r++),o+=String.fromCharCode(n<<8|i);return o},e.prototype.parseTime=function(e,t,n){var i=this.parseStringISO(e,t),o=(n?me:ve).exec(i);return o?(n&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),i=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(i+=":"+o[5],o[6]&&(i+=":"+o[6],o[7]&&(i+="."+o[7]))),o[8]&&(i+=" UTC","Z"!=o[8]&&(i+=o[8],o[9]&&(i+=":"+o[9]))),i):"Unrecognized time: "+i},e.prototype.parseInteger=function(e,t){for(var n,i=this.get(e),o=i>127,r=o?255:0,s="";i==r&&++e<t;)i=this.get(e);if(0===(n=t-e))return o?-1:0;if(n>4){for(s=i,n<<=3;0==(128&(+s^r));)s=+s<<1,--n;s="("+n+" bit)\n"}o&&(i-=256);for(var a=new ge(i),l=e+1;l<t;++l)a.mulAdd(256,this.get(l));return s+a.toString()},e.prototype.parseBitString=function(e,t,n){for(var i=this.get(e),o="("+((t-e-1<<3)-i)+" bit)\n",r="",s=e+1;s<t;++s){for(var a=this.get(s),l=s==t-1?i:0,c=7;c>=l;--c)r+=a>>c&1?"1":"0";if(r.length>n)return o+ye(r,n)}return o+r},e.prototype.parseOctetString=function(e,t,n){if(this.isASCII(e,t))return ye(this.parseStringISO(e,t),n);var i=t-e,o="("+i+" byte)\n";i>(n/=2)&&(t=e+n);for(var r=e;r<t;++r)o+=this.hexByte(this.get(r));return i>n&&(o+="…"),o},e.prototype.parseOID=function(e,t,n){for(var i="",o=new ge,r=0,s=e;s<t;++s){var a=this.get(s);if(o.mulAdd(128,127&a),r+=7,!(128&a)){if(""===i)if((o=o.simplify())instanceof ge)o.sub(80),i="2."+o.toString();else{var l=o<80?o<40?0:1:2;i=l+"."+(o-40*l)}else i+="."+o.toString();if(i.length>n)return ye(i,n);o=new ge,r=0}}return r>0&&(i+=".incomplete"),i},e}(),Ee=function(){function e(e,t,n,i,o){if(!(i instanceof Se))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=o}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+n,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);case 6:return this.stream.parseOID(t,t+n,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return ye(this.stream.parseStringUTF(t,t+n),e);case 18:case 19:case 20:case 21:case 22:case 26:return ye(this.stream.parseStringISO(t,t+n),e);case 30:return ye(this.stream.parseStringBMP(t,t+n),e);case 23:case 24:return this.stream.parseTime(t,t+n,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var n=0,i=this.sub.length;n<i;++n)t+=this.sub[n].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===n)return null;t=0;for(var i=0;i<n;++i)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},e.decode=function(t){var n;n=t instanceof we?t:new we(t,0);var i=new we(n),o=new Se(n),r=e.decodeLength(n),s=n.pos,a=s-i.pos,l=null,c=function(){var t=[];if(null!==r){for(var i=s+r;n.pos<i;)t[t.length]=e.decode(n);if(n.pos!=i)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var o=e.decode(n);if(o.tag.isEOC())break;t[t.length]=o}r=s-n.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return t};if(o.tagConstructed)l=c();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var u=0;u<l.length;++u)if(l[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(h){l=null}if(null===l){if(null===r)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);n.pos=s+Math.abs(r)}return new e(i,a,r,o,l)},e}(),Se=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=0!=(32&t),this.tagNumber=31&t,31==this.tagNumber){var n=new ge;do{t=e.get(),n.mulAdd(128,127&t)}while(128&t);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),Te=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ve=(1<<26)/Te[Te.length-1],xe=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,o=!1,r="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,r=ee(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&i,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(r+=ee(n));return o?r:"0"},e.prototype.negate=function(){var t=De();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Le(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var n=De();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new Ne(t):new ke(t),this.exp(e,n)},e.prototype.clone=function(){var e=De();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,i=this.DB-e*this.DB%8,o=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[o++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=De();return this.bitwiseTo(e,te,t),t},e.prototype.or=function(e){var t=De();return this.bitwiseTo(e,ne,t),t},e.prototype.xor=function(e){var t=De();return this.bitwiseTo(e,ie,t),t},e.prototype.andNot=function(e){var t=De();return this.bitwiseTo(e,oe,t),t},e.prototype.not=function(){for(var e=De(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=De();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=De();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+re(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=se(this[n]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,ne)},e.prototype.clearBit=function(e){return this.changeBit(e,oe)},e.prototype.flipBit=function(e){return this.changeBit(e,ie)},e.prototype.add=function(e){var t=De();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=De();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=De();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=De();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=De();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=De(),n=De();return this.divRemTo(e,t,n),[t,n]},e.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),r=Pe(1);if(o<=0)return r;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new Ne(t):t.isEven()?new Be(t):new ke(t);var s=[],a=3,l=n-1,c=(1<<n)-1;if(s[1]=i.convert(this),n>1){var u=De();for(i.sqrTo(s[1],u);a<=c;)s[a]=De(),i.mulTo(u,s[a-2],s[a]),a+=2}var h,f,d=e.t-1,p=!0,g=De();for(o=Le(e[d])-1;d>=0;){for(o>=l?h=e[d]>>o-l&c:(h=(e[d]&(1<<o+1)-1)<<l-o,d>0&&(h|=e[d-1]>>this.DB+o-l)),a=n;0==(1&h);)h>>=1,--a;if((o-=a)<0&&(o+=this.DB,--d),p)s[h].copyTo(r),p=!1;else{for(;a>1;)i.sqrTo(r,g),i.sqrTo(g,r),a-=2;a>0?i.sqrTo(r,g):(f=r,r=g,g=f),i.mulTo(g,s[h],r)}for(;d>=0&&0==(e[d]&1<<o);)i.sqrTo(r,g),f=r,r=g,g=f,--o<0&&(o=this.DB-1,--d)}return i.revert(r)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),o=this.clone(),r=Pe(1),s=Pe(0),a=Pe(0),l=Pe(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),n?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(o)>=0?(i.subTo(o,i),n&&r.subTo(a,r),s.subTo(l,s)):(o.subTo(i,o),n&&a.subTo(r,a),l.subTo(s,l))}return 0!=o.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(e){return this.exp(e,new _e)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var o=t.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return t;for(o<r&&(r=o),r>0&&(t.rShiftTo(r,t),n.rShiftTo(r,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n},e.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=Te[Te.length-1]){for(t=0;t<Te.length;++t)if(n[0]==Te[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Te.length;){for(var i=Te[t],o=t+1;o<Te.length&&i<Ve;)i*=Te[o++];for(i=n.modInt(i);t<o;)if(i%Te[t++]==0)return!1}return n.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var o=t.length,r=!1,s=0;--o>=0;){var a=8==i?255&+t[o]:je(t,o);a<0?"-"==t.charAt(o)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+i>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=i)>=this.DB&&(s-=this.DB))}8==i&&0!=(128&+t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,i=this.DB-n,o=(1<<i)-1,r=Math.floor(e/this.DB),s=this.s<<n&this.DM,a=this.t-1;a>=0;--a)t[a+r+1]=this[a]>>i|s,s=(this[a]&o)<<n;for(a=r-1;a>=0;--a)t[a]=0;t[r]=s,t.t=this.t+r+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,o=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&r)<<o,t[s-n]=this[s]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<o),t.t=this.t-n,t.clamp()}},e.prototype.subTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},e.prototype.multiplyTo=function(t,n){var i=this.abs(),o=t.abs(),r=i.t;for(n.t=r+o.t;--r>=0;)n[r]=0;for(r=0;r<o.t;++r)n[r+i.t]=i.am(0,o[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,n,i){var o=t.abs();if(!(o.t<=0)){var r=this.abs();if(r.t<o.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=De());var s=De(),a=this.s,l=t.s,c=this.DB-Le(o[o.t-1]);c>0?(o.lShiftTo(c,s),r.lShiftTo(c,i)):(o.copyTo(s),r.copyTo(i));var u=s.t,h=s[u-1];if(0!=h){var f=h*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,g=1<<this.F2,m=i.t,v=m-u,y=null==n?De():n;for(s.dlShiftTo(v,y),i.compareTo(y)>=0&&(i[i.t++]=1,i.subTo(y,i)),e.ONE.dlShiftTo(u,y),y.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--v>=0;){var b=i[--m]==h?this.DM:Math.floor(i[m]*d+(i[m-1]+g)*p);if((i[m]+=s.am(0,b,i,v,0,u))<b)for(s.dlShiftTo(v,y),i.subTo(y,i);i[m]<--b;)i.subTo(y,i)}null!=n&&(i.drShiftTo(u,n),a!=l&&e.ZERO.subTo(n,n)),i.t=u,i.clamp(),c>0&&i.rShiftTo(c,i),a<0&&e.ZERO.subTo(i,i)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var i=De(),o=De(),r=n.convert(this),s=Le(t)-1;for(r.copyTo(i);--s>=0;)if(n.sqrTo(i,o),(t&1<<s)>0)n.mulTo(o,r,i);else{var a=i;i=o,o=a}return n.revert(i)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=Pe(n),o=De(),r=De(),s="";for(this.divRemTo(i,o,r);o.signum()>0;)s=(n+r.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,r);return r.intValue().toString(e)+s},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),o=Math.pow(n,i),r=!1,s=0,a=0,l=0;l<t.length;++l){var c=je(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(r=!0):(a=n*a+c,++s>=i&&(this.dMultiply(o),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(a,0)),r&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,i){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ne,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=[],r=7&t;o.length=1+(t>>3),n.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}},e.prototype.bitwiseTo=function(e,t,n){var i,o,r=Math.min(e.t,this.t);for(i=0;i<r;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(o=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],o);n.t=this.t}else{for(o=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(o,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},e.prototype.changeBit=function(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i},e.prototype.addTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(var o=n.t-this.t;i<o;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(o=Math.min(e.t,t);i<o;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},e.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n},e.prototype.millerRabin=function(t){var n=this.subtract(e.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var o=n.shiftRight(i);(t=t+1>>1)>Te.length&&(t=Te.length);for(var r=De(),s=0;s<t;++s){r.fromInt(Te[Math.floor(Math.random()*Te.length)]);var a=r.modPow(o,this);if(0!=a.compareTo(e.ONE)&&0!=a.compareTo(n)){for(var l=1;l++<i&&0!=a.compareTo(n);)if(0==(a=a.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=a.compareTo(n))return!1}}return!0},e.prototype.square=function(){var e=De();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var n=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(n.compareTo(i)<0){var o=n;n=i,i=o}var r=n.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)t(n);else{r<s&&(s=r),s>0&&(n.rShiftTo(s,n),i.rShiftTo(s,i));var a=function(){(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(a,0):(s>0&&i.lShiftTo(s,i),setTimeout((function(){t(i)}),0))};setTimeout(a,10)}},e.prototype.fromNumberAsync=function(t,n,i,o){if("number"==typeof n)if(t<2)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ne,this),this.isEven()&&this.dAddOffset(1,0);var r=this,s=function(){r.dAddOffset(2,0),r.bitLength()>t&&r.subTo(e.ONE.shiftLeft(t-1),r),r.isProbablePrime(n)?setTimeout((function(){o()}),0):setTimeout(s,0)};setTimeout(s,0)}else{var a=[],l=7&t;a.length=1+(t>>3),n.nextBytes(a),l>0?a[0]&=(1<<l)-1:a[0]=0,this.fromString(a,256)}},e}(),_e=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),Ne=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),ke=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=De();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(xe.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=De();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),Be=function(){function e(e){this.m=e,this.r2=De(),this.q3=De(),xe.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=De();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function De(){return new xe(null)}function Ce(e,t){return new xe(e,t)}var Ie="undefined"!=typeof navigator;Ie&&"Microsoft Internet Explorer"==navigator.appName?(xe.prototype.am=function(e,t,n,i,o,r){for(var s=32767&t,a=t>>15;--r>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;o=((l=s*l+((32767&u)<<15)+n[i]+(1073741823&o))>>>30)+(u>>>15)+a*c+(o>>>30),n[i++]=1073741823&l}return o},be=30):Ie&&"Netscape"!=navigator.appName?(xe.prototype.am=function(e,t,n,i,o,r){for(;--r>=0;){var s=t*this[e++]+n[i]+o;o=Math.floor(s/67108864),n[i++]=67108863&s}return o},be=26):(xe.prototype.am=function(e,t,n,i,o,r){for(var s=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;o=((l=s*l+((16383&u)<<14)+n[i]+o)>>28)+(u>>14)+a*c,n[i++]=268435455&l}return o},be=28),xe.prototype.DB=be,xe.prototype.DM=(1<<be)-1,xe.prototype.DV=1<<be;xe.prototype.FV=Math.pow(2,52),xe.prototype.F1=52-be,xe.prototype.F2=2*be-52;var Ae,Oe,Re=[];for(Ae="0".charCodeAt(0),Oe=0;Oe<=9;++Oe)Re[Ae++]=Oe;for(Ae="a".charCodeAt(0),Oe=10;Oe<36;++Oe)Re[Ae++]=Oe;for(Ae="A".charCodeAt(0),Oe=10;Oe<36;++Oe)Re[Ae++]=Oe;function je(e,t){var n=Re[e.charCodeAt(t)];return null==n?-1:n}function Pe(e){var t=De();return t.fromInt(e),t}function Le(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}xe.ZERO=Pe(0),xe.ONE=Pe(1);var Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];const Fe={getRandomValues(e){if(!(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8ClampedArray))throw new Error("Expected an integer array");if(e.byteLength>65536)throw new Error("Can only request a maximum of 65536 bytes");var t;return function(e,t){for(var n,i=e.length,o="="===e[i-2]?2:"="===e[i-1]?1:0,r=0,s=i-o&4294967292,a=0;a<s;a+=4)n=Me[e.charCodeAt(a)]<<18|Me[e.charCodeAt(a+1)]<<12|Me[e.charCodeAt(a+2)]<<6|Me[e.charCodeAt(a+3)],t[r++]=n>>16&255,t[r++]=n>>8&255,t[r++]=255&n;1===o&&(n=Me[e.charCodeAt(a)]<<10|Me[e.charCodeAt(a+1)]<<4|Me[e.charCodeAt(a+2)]>>2,t[r++]=n>>8&255,t[r++]=255&n),2===o&&(n=Me[e.charCodeAt(a)]<<2|Me[e.charCodeAt(a+1)]>>4,t[r++]=255&n)}((t="DCloud-Crypto",weex.requireModule(t)).getRandomValues(e.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e}};var qe=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();var Ue,He,ze=null;if(null==ze){ze=[],He=0;var $e=void 0;if("undefined"!=typeof window&&Fe&&Fe.getRandomValues){var Ke=new Uint32Array(256);for(Fe.getRandomValues(Ke),$e=0;$e<Ke.length;++$e)ze[He++]=255&Ke[$e]}var Ge=0,Ze=function(e){if((Ge=Ge||0)>=256||He>=256)window.removeEventListener?window.removeEventListener("mousemove",Ze,!1):window.detachEvent&&window.detachEvent("onmousemove",Ze);else try{var t=e.x+e.y;ze[He++]=255&t,Ge+=1}catch(n){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",Ze,!1):window.attachEvent&&window.attachEvent("onmousemove",Ze))}function We(){if(null==Ue){for(Ue=new qe;He<256;){var e=Math.floor(65536*Math.random());ze[He++]=255&e}for(Ue.init(ze),He=0;He<ze.length;++He)ze[He]=0;He=0}return Ue.next()}var Ye=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=We()},e}();var Je=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Ce(e,16),this.e=parseInt(t,16)):i("error","at node_modules/jsencrypt/lib/lib/jsbn/rsa.js:114","Invalid RSA public key")},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,n=function(e,t){if(t<e.length+11)return i("error","at node_modules/jsencrypt/lib/lib/jsbn/rsa.js:37","Message too long for RSA"),null;for(var n=[],o=e.length-1;o>=0&&t>0;){var r=e.charCodeAt(o--);r<128?n[--t]=r:r>127&&r<2048?(n[--t]=63&r|128,n[--t]=r>>6|192):(n[--t]=63&r|128,n[--t]=r>>6&63|128,n[--t]=r>>12|224)}n[--t]=0;for(var s=new Ye,a=[];t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new xe(n)}(e,t);if(null==n)return null;var o=this.doPublic(n);if(null==o)return null;for(var r=o.toString(16),s=r.length,a=0;a<2*t-s;a++)r="0"+r;return r},e.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Ce(e,16),this.e=parseInt(t,16),this.d=Ce(n,16)):i("error","at node_modules/jsencrypt/lib/lib/jsbn/rsa.js:146","Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,n,o,r,s,a,l){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Ce(e,16),this.e=parseInt(t,16),this.d=Ce(n,16),this.p=Ce(o,16),this.q=Ce(r,16),this.dmp1=Ce(s,16),this.dmq1=Ce(a,16),this.coeff=Ce(l,16)):i("error","at node_modules/jsencrypt/lib/lib/jsbn/rsa.js:163","Invalid RSA private key")},e.prototype.generate=function(e,t){var n=new Ye,i=e>>1;this.e=parseInt(t,16);for(var o=new xe(t,16);;){for(;this.p=new xe(e-i,1,n),0!=this.p.subtract(xe.ONE).gcd(o).compareTo(xe.ONE)||!this.p.isProbablePrime(10););for(;this.q=new xe(i,1,n),0!=this.q.subtract(xe.ONE).gcd(o).compareTo(xe.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var s=this.p.subtract(xe.ONE),a=this.q.subtract(xe.ONE),l=s.multiply(a);if(0==l.gcd(o).compareTo(xe.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=Ce(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){var n=e.toByteArray(),i=0;for(;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;++i;for(;0!=n[i];)if(++i>=n.length)return null;var o="";for(;++i<n.length;){var r=255&n[i];r<128?o+=String.fromCharCode(r):r>191&&r<224?(o+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(o+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return o}(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,n){var i=new Ye,o=e>>1;this.e=parseInt(t,16);var r=new xe(t,16),s=this,a=function(){var t=function(){if(s.p.compareTo(s.q)<=0){var e=s.p;s.p=s.q,s.q=e}var t=s.p.subtract(xe.ONE),i=s.q.subtract(xe.ONE),o=t.multiply(i);0==o.gcd(r).compareTo(xe.ONE)?(s.n=s.p.multiply(s.q),s.d=r.modInverse(o),s.dmp1=s.d.mod(t),s.dmq1=s.d.mod(i),s.coeff=s.q.modInverse(s.p),setTimeout((function(){n()}),0)):setTimeout(a,0)},l=function(){s.q=De(),s.q.fromNumberAsync(o,1,i,(function(){s.q.subtract(xe.ONE).gcda(r,(function(e){0==e.compareTo(xe.ONE)&&s.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(l,0)}))}))},c=function(){s.p=De(),s.p.fromNumberAsync(e-o,1,i,(function(){s.p.subtract(xe.ONE).gcda(r,(function(e){0==e.compareTo(xe.ONE)&&s.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(a,0)},e.prototype.sign=function(e,t,n){var o=function(e,t){if(t<e.length+22)return i("error","at node_modules/jsencrypt/lib/lib/jsbn/rsa.js:23","Message too long for RSA"),null;for(var n=t-e.length-6,o="",r=0;r<n;r+=2)o+="ff";return Ce("0001"+o+"00"+e,16)}((Xe[n]||"")+t(e).toString(),this.n.bitLength()/4);if(null==o)return null;var r=this.doPrivate(o);if(null==r)return null;var s=r.toString(16);return 0==(1&s.length)?s:"0"+s},e.prototype.verify=function(e,t,n){var i=Ce(t,16),o=this.doPublic(i);return null==o?null:function(e){for(var t in Xe)if(Xe.hasOwnProperty(t)){var n=Xe[t],i=n.length;if(e.substr(0,i)==n)return e.substr(i)}return e}
/*!
  Copyright (c) 2011, Yahoo! Inc. All rights reserved.
  Code licensed under the BSD License:
  http://developer.yahoo.com/yui/license.html
  version: 2.9.0
  */(o.toString(16).replace(/^1f+00/,""))==n(e).toString()},e}();var Xe={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var Qe={};Qe.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var o;for(o in n)e.prototype[o]=n[o];var r=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(r=function(e,t){for(o=0;o<s.length;o+=1){var n=s[o],i=t[n];"function"==typeof i&&i!=Object.prototype[n]&&(e[n]=i)}})}catch(a){}r(e.prototype,n)}}};
/**
   * @fileOverview
   * @name asn1-1.0.js
   * @author Kenji Urushima kenji.urushima@gmail.com
   * @version asn1 1.0.13 (2017-Jun-02)
   * @since jsrsasign 2.1
   * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
   */
var et={};void 0!==et.asn1&&et.asn1||(et.asn1={}),et.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var i="",o=0;o<n;o++)i+="f";t=new xe(i,16).xor(e).add(xe.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=et.asn1,n=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,r=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,f=t.DERTeletexString,d=t.DERIA5String,p=t.DERUTCTime,g=t.DERGeneralizedTime,m=t.DERSequence,v=t.DERSet,y=t.DERTaggedObject,b=t.ASN1Util.newObject,w=Object.keys(e);if(1!=w.length)throw"key of param shall be only one.";var E=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new n(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new o(e[E]);if("octstr"==E)return new r(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new a(e[E]);if("enum"==E)return new l(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new u(e[E]);if("prnstr"==E)return new h(e[E]);if("telstr"==E)return new f(e[E]);if("ia5str"==E)return new d(e[E]);if("utctime"==E)return new p(e[E]);if("gentime"==E)return new g(e[E]);if("seq"==E){for(var S=e[E],T=[],V=0;V<S.length;V++){var x=b(S[V]);T.push(x)}return new m({array:T})}if("set"==E){for(S=e[E],T=[],V=0;V<S.length;V++){x=b(S[V]);T.push(x)}return new v({array:T})}if("tag"==E){var _=e[E];if("[object Array]"===Object.prototype.toString.call(_)&&3==_.length){var N=b(_[2]);return new y({tag:_[0],explicit:_[1],obj:N})}var k={};if(void 0!==_.explicit&&(k.explicit=_.explicit),void 0!==_.tag&&(k.tag=_.tag),void 0===_.obj)throw"obj shall be specified for 'tag'.";return k.obj=b(_.obj),new y(k)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},et.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),i=(t=Math.floor(n/40)+"."+n%40,""),o=2;o<e.length;o+=2){var r=("00000000"+parseInt(e.substr(o,2),16).toString(2)).slice(-8);if(i+=r.substr(1,7),"0"==r.substr(0,1))t=t+"."+new xe(i,2).toString(10),i=""}return t},et.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new xe(e,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var r="",s=0;s<o;s++)r+="0";i=r+i;for(s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",o=e.split("."),r=40*parseInt(o[0])+parseInt(o[1]);i+=t(r),o.splice(0,2);for(var s=0;s<o.length;s++)i+=n(o[s]);return i},et.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},et.asn1.DERAbstractString=function(e){et.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Qe.lang.extend(et.asn1.DERAbstractString,et.asn1.ASN1Object),et.asn1.DERAbstractTime=function(e){et.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var i=this.zeroPadding,o=this.localDateToUTC(e),r=String(o.getFullYear());"utc"==t&&(r=r.substr(2,2));var s=r+i(String(o.getMonth()+1),2)+i(String(o.getDate()),2)+i(String(o.getHours()),2)+i(String(o.getMinutes()),2)+i(String(o.getSeconds()),2);if(!0===n){var a=o.getMilliseconds();if(0!=a){var l=i(String(a),3);s=s+"."+(l=l.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,n,i,o,r){var s=new Date(Date.UTC(e,t-1,n,i,o,r,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Qe.lang.extend(et.asn1.DERAbstractTime,et.asn1.ASN1Object),et.asn1.DERAbstractStructured=function(e){et.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Qe.lang.extend(et.asn1.DERAbstractStructured,et.asn1.ASN1Object),et.asn1.DERBoolean=function(){et.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Qe.lang.extend(et.asn1.DERBoolean,et.asn1.ASN1Object),et.asn1.DERInteger=function(e){et.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new xe(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Qe.lang.extend(et.asn1.DERInteger,et.asn1.ASN1Object),et.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=et.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}et.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var i="";for(n=0;n<e.length-1;n+=8){var o=e.substr(n,8),r=parseInt(o,2).toString(16);1==r.length&&(r="0"+r),i+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Qe.lang.extend(et.asn1.DERBitString,et.asn1.ASN1Object),et.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=et.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}et.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Qe.lang.extend(et.asn1.DEROctetString,et.asn1.DERAbstractString),et.asn1.DERNull=function(){et.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Qe.lang.extend(et.asn1.DERNull,et.asn1.ASN1Object),et.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new xe(e,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var r="",s=0;s<o;s++)r+="0";i=r+i;for(s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};et.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",o=e.split("."),r=40*parseInt(o[0])+parseInt(o[1]);i+=t(r),o.splice(0,2);for(var s=0;s<o.length;s++)i+=n(o[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var t=et.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Qe.lang.extend(et.asn1.DERObjectIdentifier,et.asn1.ASN1Object),et.asn1.DEREnumerated=function(e){et.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new xe(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Qe.lang.extend(et.asn1.DEREnumerated,et.asn1.ASN1Object),et.asn1.DERUTF8String=function(e){et.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Qe.lang.extend(et.asn1.DERUTF8String,et.asn1.DERAbstractString),et.asn1.DERNumericString=function(e){et.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Qe.lang.extend(et.asn1.DERNumericString,et.asn1.DERAbstractString),et.asn1.DERPrintableString=function(e){et.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Qe.lang.extend(et.asn1.DERPrintableString,et.asn1.DERAbstractString),et.asn1.DERTeletexString=function(e){et.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Qe.lang.extend(et.asn1.DERTeletexString,et.asn1.DERAbstractString),et.asn1.DERIA5String=function(e){et.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Qe.lang.extend(et.asn1.DERIA5String,et.asn1.DERAbstractString),et.asn1.DERUTCTime=function(e){et.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Qe.lang.extend(et.asn1.DERUTCTime,et.asn1.DERAbstractTime),et.asn1.DERGeneralizedTime=function(e){et.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Qe.lang.extend(et.asn1.DERGeneralizedTime,et.asn1.DERAbstractTime),et.asn1.DERSequence=function(e){et.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},Qe.lang.extend(et.asn1.DERSequence,et.asn1.DERAbstractStructured),et.asn1.DERSet=function(e){et.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Qe.lang.extend(et.asn1.DERSet,et.asn1.DERAbstractStructured),et.asn1.DERTaggedObject=function(e){et.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Qe.lang.extend(et.asn1.DERTaggedObject,et.asn1.ASN1Object);var tt,nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),it=function(e){function t(n){var i=e.call(this)||this;return n&&("string"==typeof n?i.parseKey(n):(t.hasPrivateKeyProperty(n)||t.hasPublicKeyProperty(n))&&i.parsePropertiesFrom(n)),i}return nt(t,e),t.prototype.parseKey=function(e){try{var t=0,n=0,i=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?fe(e):de.unarmor(e),o=Ee.decode(i);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){t=o.sub[1].getHexStringValue(),this.n=Ce(t,16),n=o.sub[2].getHexStringValue(),this.e=parseInt(n,16);var r=o.sub[3].getHexStringValue();this.d=Ce(r,16);var s=o.sub[4].getHexStringValue();this.p=Ce(s,16);var a=o.sub[5].getHexStringValue();this.q=Ce(a,16);var l=o.sub[6].getHexStringValue();this.dmp1=Ce(l,16);var c=o.sub[7].getHexStringValue();this.dmq1=Ce(c,16);var u=o.sub[8].getHexStringValue();this.coeff=Ce(u,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var h=o.sub[1].sub[0];t=h.sub[0].getHexStringValue(),this.n=Ce(t,16),n=h.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else t=o.sub[0].getHexStringValue(),this.n=Ce(t,16),n=o.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(f){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new et.asn1.DERInteger({int:0}),new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e}),new et.asn1.DERInteger({bigint:this.d}),new et.asn1.DERInteger({bigint:this.p}),new et.asn1.DERInteger({bigint:this.q}),new et.asn1.DERInteger({bigint:this.dmp1}),new et.asn1.DERInteger({bigint:this.dmq1}),new et.asn1.DERInteger({bigint:this.coeff})]};return new et.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return ce(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new et.asn1.DERSequence({array:[new et.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new et.asn1.DERNull]}),t=new et.asn1.DERSequence({array:[new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e})]}),n=new et.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new et.asn1.DERSequence({array:[e,n]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return ce(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(Je),ot="undefined"!=typeof process?null===(tt={})||void 0===tt?void 0:tt.npm_package_version:void 0,rt=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&i("warn","at node_modules/jsencrypt/lib/JSEncrypt.js:37","A key was already set, overriding existing."),this.key=new it(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(ue(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return ce(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,n){try{return ce(this.getKey().sign(e,t,n))}catch(i){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,ue(t),n)}catch(i){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new it,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=ot,e}();const st=t({__name:"register",setup(t){const n=e.ref(0),o=e.ref(!1),r=S(),s=e.ref("/static/touxiang.svg");e.ref("");const a=e.ref(""),l=e.ref(""),c=e.ref(""),u=e.ref(""),h=e.ref(""),f=e.ref(!1),d=e.ref(!1),p=()=>{f.value=!f.value},g=()=>{d.value=!d.value},m=e.computed((()=>""!==a.value.trim()&&""!==u.value&&""!==h.value&&0!==l.value.length&&0!==c.value.length)),v=e=>{h.value=e},y=async()=>{if(l.value!==c.value)return void uni.showToast({title:"两次密码不一致",icon:"none"});if(n.value<=1)return void uni.showToast({title:"密码较弱请重新设置",icon:"none"});let e,t;try{e=await async function(){const e=await T({url:"/publicKey",method:"GET",header:{"ngrok-skip-browser-warning":"true"}});return i("log","at utils/rsa.js:16","公钥接口完整响应:",e.publicKey),e.publicKey}()}catch(d){return void uni.showToast({title:"获取加密密钥失败",icon:"none"})}try{t=function(e,t){const n=new rt;return n.setPublicKey(e),n.encrypt(t)}(e,l.value)}catch(d){return void uni.showToast({title:"密码加密失败",icon:"none"})}const o=await(f={userId:r.userId,nickname:a.value,password:t,avatar:s.value,gender:u.value,birthday:h.value},T({url:"/app/user/completeProfile",method:"POST",data:f}));var f;200===o.code?(i("log","at pages/login/register.vue:202",s.value),uni.showToast({title:"注册成功",icon:"success"}),uni.navigateTo({url:"/pages/petSelection/petSelection"})):uni.showToast({title:o.msg,icon:"none"})},b=e.computed((()=>0===n.value||1===n.value?"弱":2===n.value?"中":"强")),w=X((e=>{const t=e.detail.value;l.value=t.replace(/[^a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g,"");const i=l.value;if(i.length>0?o.value=!0:o.value=!1,!i||i.length<8)return void(n.value=0);let r=0;i.length>=2&&(r+=1),i.length>=5&&(r+=1),/[a-z]/.test(i)&&(r+=1),/[A-Z]/.test(i)&&(r+=1),/\d/.test(i)&&(r+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(i)&&(r+=2),r<=1&&(n.value=1),n.value=r<=3?1:r<=6?2:3}),300),E=()=>{uni.chooseImage({count:1,success(e){s.value=e.tempFilePaths[0]}})};return(t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"profile-container"},[e.createElementVNode("view",{class:"avatar-upload",onClick:E},[e.createElementVNode("image",{src:s.value,class:"avatar"},null,8,["src"])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"手机号:"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>e.unref(r).phone=t),placeholder:"请输入",maxlength:"11",disabled:""},null,512),[[e.vModelText,e.unref(r).phone]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"昵称:"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>a.value=e),placeholder:"请输入",maxlength:"10"},null,512),[[e.vModelText,a.value]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"性别:"),e.createElementVNode("view",{class:"gender-container"},[e.createElementVNode("view",{class:"gender-option"},[e.createElementVNode("view",{class:e.normalizeClass(["sex-male",{active:"0"===u.value}])},[e.createElementVNode("image",{src:N,class:"gender-icon"})],2),e.createElementVNode("text",{class:e.normalizeClass(["gender-tag male",{active:"0"===u.value}]),onClick:i[2]||(i[2]=e=>u.value="0")},"男",2)]),e.createElementVNode("view",{class:"gender-option"},[e.createElementVNode("view",{class:e.normalizeClass(["sex-female",{active:"1"===u.value}])},[e.createElementVNode("image",{src:k,class:"gender-icon"})],2),e.createElementVNode("text",{class:e.normalizeClass(["gender-tag female",{active:"1"===u.value}]),onClick:i[3]||(i[3]=e=>u.value="1")},"女",2)])])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"您的生日:"),e.createVNode(Q,{onDateChange:v})]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"密码:"),e.createElementVNode("view",{class:"form-item-pwd"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>l.value=e),style:{"ime-mode":"disabled"},password:!f.value,placeholder:"请输入",onInput:i[5]||(i[5]=(...t)=>e.unref(w)&&e.unref(w)(...t)),maxlength:"10"},null,40,["password"]),[[e.vModelText,l.value]]),e.createElementVNode("view",{class:"eye-btn",onClick:p},[e.createElementVNode("image",{src:f.value?"/static/eye.svg":"/static/eye_close.svg",class:"eye-icon"},null,8,["src"])])])]),o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"password-strength"},[e.createElementVNode("view",{class:e.normalizeClass(["strength-bar",{weak:1===n.value,medium:2===n.value,strong:3===n.value,active:n.value>=0}])},null,2),e.createElementVNode("view",{class:e.normalizeClass(["strength-bar",{medium:2===n.value,strong:3===n.value,active:n.value>=2}])},null,2),e.createElementVNode("view",{class:e.normalizeClass(["strength-bar",{strong:3===n.value,active:n.value>=3}])},null,2),e.createElementVNode("text",{class:"strength-text"},e.toDisplayString(b.value),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"密码确认:"),e.createElementVNode("view",{class:"form-item-pwd"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[6]||(i[6]=e=>c.value=e),password:!d.value,placeholder:"请输入",maxlength:"10"},null,8,["password"]),[[e.vModelText,c.value]]),e.createElementVNode("view",{class:"eye-btn",onClick:g},[e.createElementVNode("image",{src:d.value?"/static/eye.svg":"/static/eye_close.svg",class:"eye-icon"},null,8,["src"])])])])]),e.createElementVNode("button",{class:"next-btn",onClick:y,disabled:!m.value},"下一步",8,["disabled"])]))}},[["__scopeId","data-v-42dc7594"]]);const at=e=>"number"==typeof e?e+"px":e;const lt=t({name:"UniNavBar",components:{statusBar:t({name:"UniStatusBar",data:()=>({statusBarHeight:uni.getSystemInfoSync().statusBarHeight+"px"})},[["render",function(t,n,i,o,r,s){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle({height:r.statusBarHeight}),class:"uni-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-4539ef65"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60},stat:{type:[Boolean,String],default:""}},data:()=>({navWidth:"auto"}),computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#333":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#333":this.color||"#333"},navbarHeight(){return this.fixed&&0===this.height?at(44):at(this.height)},leftIconWidth(){return at(this.leftWidth)},rightIconWidth(){return at(this.rightWidth)}},created(){},mounted(){uni.report&&this.stat&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(t,n,i,r,s,l){const c=e.resolveComponent("status-bar"),u=o(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-navbar",{"uni-dark":i.dark,"uni-nvue-fixed":i.fixed}])},[e.createElementVNode("view",{class:e.normalizeClass(["uni-navbar__content",{"uni-navbar--fixed":i.fixed,"uni-navbar--shadow":i.shadow,"uni-navbar--border":i.border}]),style:e.normalizeStyle({"background-color":l.themeBgColor})},[i.statusBar?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{style:e.normalizeStyle({color:l.themeColor,backgroundColor:l.themeBgColor,height:l.navbarHeight,width:s.navWidth+"px"}),class:"uni-navbar__header"},[e.createElementVNode("view",{onClick:n[0]||(n[0]=(...e)=>l.onClickLeft&&l.onClickLeft(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:e.normalizeStyle({width:l.leftIconWidth})},[e.renderSlot(t.$slots,"left",{},(()=>[i.leftIcon.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__content_view"},[e.createVNode(u,{color:l.themeColor,type:i.leftIcon,size:"20"},null,8,["color","type"])])):e.createCommentVNode("",!0),i.leftText.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass([{"uni-navbar-btn-icon-left":!i.leftIcon.length>0},"uni-navbar-btn-text"])},[e.createElementVNode("text",{style:e.normalizeStyle({color:l.themeColor,fontSize:"12px"})},e.toDisplayString(i.leftText),5)],2)):e.createCommentVNode("",!0)]),!0)],4),e.createElementVNode("view",{class:"uni-navbar__header-container",onClick:n[1]||(n[1]=(...e)=>l.onClickTitle&&l.onClickTitle(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[i.title.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__header-container-inner"},[e.createElementVNode("text",{class:"uni-nav-bar-text uni-ellipsis-1",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(i.title),5)])):e.createCommentVNode("",!0)]),!0)]),e.createElementVNode("view",{onClick:n[2]||(n[2]=(...e)=>l.onClickRight&&l.onClickRight(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:e.normalizeStyle({width:l.rightIconWidth})},[e.renderSlot(t.$slots,"right",{},(()=>[i.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(u,{color:l.themeColor,type:i.rightIcon,size:"22"},null,8,["color","type"])])):e.createCommentVNode("",!0),i.rightText.length&&!i.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-navbar-btn-text"},[e.createElementVNode("text",{class:"uni-nav-bar-right-text",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(i.rightText),5)])):e.createCommentVNode("",!0)]),!0)],4)],4)],6),i.fixed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__placeholder"},[i.statusBar?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-navbar__placeholder-view",style:e.normalizeStyle({height:l.navbarHeight})},null,4)])):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-c116b571"]]),ct=["{","}"];const ut=/^(?:\d)+/,ht=/^(?:\w)+/;const ft="zh-Hans",dt="zh-Hant",pt="en",gt=Object.prototype.hasOwnProperty,mt=(e,t)=>gt.call(e,t),vt=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,n=ct){if(!t)return[e];let i=this._caches[e];return i||(i=function(e,[t,n]){const i=[];let o=0,r="";for(;o<e.length;){let s=e[o++];if(s===t){r&&i.push({type:"text",value:r}),r="";let t="";for(s=e[o++];void 0!==s&&s!==n;)t+=s,s=e[o++];const a=s===n,l=ut.test(t)?"list":a&&ht.test(t)?"named":"unknown";i.push({value:t,type:l})}else r+=s}return r&&i.push({type:"text",value:r}),i}(e,n),this._caches[e]=i),function(e,t){const n=[];let i=0;const o=Array.isArray(t)?"list":(r=t,null!==r&&"object"==typeof r?"named":"unknown");var r;if("unknown"===o)return n;for(;i<e.length;){const r=e[i];switch(r.type){case"text":n.push(r.value);break;case"list":n.push(t[parseInt(r.value,10)]);break;case"named":"named"===o&&n.push(t[r.value])}i++}return n}(i,t)}};function yt(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return ft;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?ft:e.indexOf("-hant")>-1?dt:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?dt:ft);var n;let i=[pt,"fr","es"];t&&Object.keys(t).length>0&&(i=Object.keys(t));const o=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,i);return o||void 0}class bt{constructor({locale:e,fallbackLocale:t,messages:n,watcher:i,formater:o}){this.locale=pt,this.fallbackLocale=pt,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=o||vt,this.messages=n||{},this.setLocale(e||pt),i&&this.watchLocale(i)}setLocale(e){const t=this.locale;this.locale=yt(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const i=this.messages[e];i?n?Object.assign(i,t):Object.keys(t).forEach((e=>{mt(i,e)||(i[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let i=this.message;return"string"==typeof t?(t=yt(t,this.messages))&&(i=this.messages[t]):n=t,mt(i,e)?this.formater.interpolate(i[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const wt={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:Et}=function(e,t={},n,i){if("string"!=typeof e){const n=[t,e];e=n[0],t=n[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():pt),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||pt);const o=new bt({locale:e,fallbackLocale:n,messages:t,watcher:i});let r=(e,t)=>{if("function"!=typeof getApp)r=function(e,t){return o.t(e,t)};else{let e=!1;r=function(t,n){const i=getApp().$vm;return i&&(i.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(i,o))),o.t(t,n)}}return r(e,t)};return{i18n:o,f:(e,t,n)=>o.f(e,t,n),t:(e,t)=>r(e,t),add:(e,t,n=!0)=>o.add(e,t,n),watch:e=>o.watchLocale(e),getLocale:()=>o.getLocale(),setLocale:e=>o.setLocale(e)}}(wt);const St=t({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#000000"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||Et("uni-search-bar.cancel")},placeholderText(){return this.placeholder||Et("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(t,n,i,r,s,l){const c=o(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"uni-searchbar"},[e.createElementVNode("view",{style:e.normalizeStyle({borderRadius:i.radius+"px",backgroundColor:i.bgColor}),class:"uni-searchbar__box",onClick:n[5]||(n[5]=(...e)=>l.searchClick&&l.searchClick(...e))},[e.createElementVNode("view",{class:"uni-searchbar__box-icon-search"},[e.renderSlot(t.$slots,"searchIcon",{},(()=>[e.createVNode(c,{color:"#c0c4cc",size:"18",type:"search"})]),!0)]),s.show||s.searchVal?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,focus:s.showSync,disabled:i.readonly,placeholder:l.placeholderText,maxlength:i.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>s.searchVal=e),style:e.normalizeStyle({color:i.textColor}),onConfirm:n[1]||(n[1]=(...e)=>l.confirm&&l.confirm(...e)),onBlur:n[2]||(n[2]=(...e)=>l.blur&&l.blur(...e)),onFocus:n[3]||(n[3]=(...e)=>l.emitFocus&&l.emitFocus(...e))},null,44,["focus","disabled","placeholder","maxlength"])),[[e.vModelText,s.searchVal]]):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-searchbar__text-placeholder"},e.toDisplayString(i.placeholder),1)),s.show&&("always"===i.clearButton||"auto"===i.clearButton&&""!==s.searchVal)&&!i.readonly?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-searchbar__box-icon-clear",onClick:n[4]||(n[4]=(...e)=>l.clear&&l.clear(...e))},[e.renderSlot(t.$slots,"clearIcon",{},(()=>[e.createVNode(c,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])):e.createCommentVNode("",!0)],4),"always"===i.cancelButton||s.show&&"auto"===i.cancelButton?(e.openBlock(),e.createElementBlock("text",{key:0,onClick:n[6]||(n[6]=(...e)=>l.cancel&&l.cancel(...e)),class:"uni-searchbar__cancel"},e.toDisplayString(l.cancelTextI18n),1)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-2ba324d9"]]);const Tt=t({__name:"petSelection",emits:["petSelected"],setup(t,{emit:n}){const r=e.ref(""),s=e.ref("完成"),l=e.ref("0"),c=e.ref("letter-A"),u=e.ref(""),h=e.ref(""),f=e.ref(""),d=e.ref([]),p=()=>{uni.navigateBack()},g=()=>{uni.navigateTo({url:"./petInfo"})};e.onMounted((()=>{m()}));const m=async()=>{try{const e=await T({url:"/app/pet/pet",method:"GET",header:{"ngrok-skip-browser-warning":"true"}});r.value=e.data}catch(e){i("error","at pages/petSelection/petSelection.vue:150","获取宠物类型失败:",e)}},v=async()=>{const e=S().token;uni.request({url:"http://115.120.195.253/app/pet/breeds",method:"GET",data:{petClass:u.value,petBreed:f.value},header:{Authorization:`Bearer ${e}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},success:e=>{var t;i("log","at pages/petSelection/petSelection.vue:171",e),200===e.statusCode?(i("log","at pages/petSelection/petSelection.vue:173","宠物列表数据:",e.data),d.value=e.data.data.hot,h.value=e.data.data.breeds):(i("error","at pages/petSelection/petSelection.vue:177","请求失败:",e),uni.showToast({title:`请求失败: ${(null==(t=e.data)?void 0:t.message)||"未知错误"}`,icon:"none"}))},fail:e=>{i("error","at pages/petSelection/petSelection.vue:182","网络错误:",e),uni.showToast({title:"网络连接失败",icon:"none"})}})},y=()=>{v()},b=e=>{uni.navigateTo({url:`/pages/petSelection/petInfo?petBreed=${encodeURIComponent(e)}`})};return(t,n)=>{const i=o(e.resolveDynamicComponent("uni-icons"),a),m=o(e.resolveDynamicComponent("uni-nav-bar"),lt),w=o(e.resolveDynamicComponent("uni-search-bar"),St);return e.openBlock(),e.createElementBlock("view",{class:"pet-selection-container"},[e.createVNode(m,{border:!1,"background-color":"#ffffff",fixed:"","status-bar":""},{left:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-left",onClick:p},[e.createVNode(i,{type:"arrow-left",size:"24"})])])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-right",onClick:g},[e.createElementVNode("text",{class:"skip-text"},"跳过")])])),default:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-title"},"您养的宠物(1/2)")])),_:1}),e.createElementVNode("view",{class:"tabs"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.petClassId,class:e.normalizeClass(["tab-item",{active:l.value===t.petClassId}]),onClick:e=>(async e=>{u.value=e.petClass,l.value=e.petClassId,0!=l.value?s.value="下一个":s.value="完成",v()})(t)},e.toDisplayString(t.petClass),11,["onClick"])))),128))]),"0"===l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"no-pet-section"},[e.createElementVNode("image",{src:"/static/home.png",class:"fullscreen-bg",mode:"aspectFill"}),e.createElementVNode("view",{class:"prompt-content"},[e.createElementVNode("text",{class:"prompt-text"},"快来领养一只宠物吧"),e.createElementVNode("text",{class:"brand-text"},"优爱宠，期待您加入"),e.createElementVNode("text",{class:"slogan"},"宠物生活一站式服务平台")])])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"pet-selection-section"},[e.createElementVNode("view",{class:"search-bar"},[e.createVNode(w,{style:{padding:"5rpx 5rpx"},placeholder:"搜索宠物品种",radius:"30",bgColor:"#F5F5F5",cancelButton:"none",onConfirm:y,modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=e=>f.value=e)},null,8,["modelValue"])]),e.createElementVNode("view",{class:"hot-section"},[e.createElementVNode("view",{class:"section-title"},"热门:"),e.createElementVNode("view",{class:"hot-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,((t,n)=>(e.openBlock(),e.createElementBlock("text",{key:n,class:"hot-tag",onClick:e=>b(t)},e.toDisplayString(t),9,["onClick"])))),128))])]),e.createElementVNode("view",{class:"alphabet-section"},[e.createElementVNode("scroll-view",{class:"alphabet-list","show-scrollbar":!1,"scroll-y":"","scroll-into-view":c.value},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,id:`letter-${n}`},[e.createElementVNode("text",{class:"letter-title"},e.toDisplayString(n),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"pet-item",onClick:e=>b(t.petBreed)},e.toDisplayString(t.petBreed),9,["onClick"])))),128))],8,["id"])))),128))],8,["scroll-into-view"]),e.createElementVNode("view",{class:"alphabet-nav-wrapper"},[e.createElementVNode("view",{class:"alphabet-nav"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(h.value),(t=>(e.openBlock(),e.createElementBlock("text",{key:t,class:e.normalizeClass(["alphabet-char",{active:c.value===`letter-${t}`}]),onClick:e=>(e=>{c.value=`letter-${e}`})(t)},e.toDisplayString(t),11,["onClick"])))),128))])])])])),e.createElementVNode("view",{class:"fixed-footer"},[e.createElementVNode("button",{class:"next-btn"},e.toDisplayString(s.value),1)])])}}},[["__scopeId","data-v-6c718480"]]),Vt=t({__name:"petInfo",setup(t){const n=e.ref("/static/touxiang.svg"),s=e.ref(""),l=e.ref(""),c=e.ref(""),u=e.ref(!1),h=e.ref(""),f=e.ref(""),d=e=>{i("log","at pages/petSelection/petInfo.vue:113","接收到宠物数据:",e)},p=()=>{uni.navigateBack()},g=()=>{},m=()=>{uni.chooseImage({count:1,success(e){imagePath.value=e.tempFilePaths[0]}})},v=e=>{h.value=e},y=e=>{f.value=e},b=e.computed((()=>""!==l.value&&""!==c.value)),w=()=>{d(),i("log","at pages/petSelection/petInfo.vue:153",h.value),i("log","at pages/petSelection/petInfo.vue:154",f.value)};return r((e=>{s.value=decodeURIComponent(e.petBreed),"undefined"===s.value&&(s.value=""),i("log","at pages/petSelection/petInfo.vue:161",s.value)})),(t,i)=>{const r=o(e.resolveDynamicComponent("uni-icons"),a),h=o(e.resolveDynamicComponent("uni-nav-bar"),lt);return e.openBlock(),e.createElementBlock("view",{class:"pet-info-container"},[e.createVNode(h,{border:!1,"background-color":"#ffffff",fixed:"","status-bar":""},{left:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-left",onClick:p},[e.createVNode(r,{type:"arrow-left",size:"24"})])])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-right",onClick:g},[e.createElementVNode("text",{class:"skip-text"},"跳过")])])),default:e.withCtx((()=>[e.createElementVNode("view",{class:"nav-title"},"您养的宠物(2/2)")])),_:1}),e.createElementVNode("view",{class:"avatar-upload",onClick:m},[e.createElementVNode("image",{src:n.value,class:"avatar"},null,8,["src"])]),e.createElementVNode("view",{class:"section-title"},"为您的爱宠选一张靓照做头像"),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("view",{class:"form-item","on:petSelected":d},[e.createElementVNode("text",{class:"label"},"宠物品种:"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>s.value=e),disabled:"",placeholder:"请输入"},null,512),[[e.vModelText,s.value]])],32),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"宠物昵称:"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>l.value=e),placeholder:"请输入宠物昵称",maxlength:"10"},null,512),[[e.vModelText,l.value]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"宠物性别:"),e.createElementVNode("view",{class:"gender-container"},[e.createElementVNode("view",{class:"gender-option"},[e.createElementVNode("view",{class:e.normalizeClass(["sex-male",{active:"0"===c.value}])},[e.createElementVNode("image",{src:N,class:"gender-icon"})],2),e.createElementVNode("text",{class:e.normalizeClass(["gender-tag male",{active:"0"===c.value}]),onClick:i[2]||(i[2]=e=>c.value="0")},"男",2)]),e.createElementVNode("view",{class:"gender-option"},[e.createElementVNode("view",{class:e.normalizeClass(["sex-female",{active:"1"===c.value}])},[e.createElementVNode("image",{src:k,class:"gender-icon"})],2),e.createElementVNode("text",{class:e.normalizeClass(["gender-tag female",{active:"1"===c.value}]),onClick:i[3]||(i[3]=e=>c.value="1")},"女",2)])])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"是否绝育:"),e.createElementVNode("view",{class:"neuter-options"},[e.createElementVNode("view",{class:e.normalizeClass(["neuter-option",{active:!0===u.value}]),onClick:i[4]||(i[4]=e=>u.value=!0)}," 是 ",2),e.createElementVNode("view",{class:e.normalizeClass(["neuter-option",{active:!1===u.value}]),onClick:i[5]||(i[5]=e=>u.value=!1)}," 否 ",2)])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"宠物生日:"),e.createVNode(Q,{onDateChange:v})]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"到家日期:"),e.createVNode(Q,{onDateChange:y})])]),e.createElementVNode("button",{class:"next-btn",disabled:!b.value,onClick:w},"完成",8,["disabled"])])}}},[["__scopeId","data-v-3a2d0b8a"]]);__definePage("pages/login/login",n),__definePage("pages/login/sms",x),__definePage("pages/login/pwd",_),__definePage("pages/login/register",st),__definePage("pages/petSelection/petSelection",Tt),__definePage("pages/petSelection/petInfo",Vt);const xt={onLaunch:function(){i("log","at App.vue:4","App Launch")},onShow:function(){i("log","at App.vue:7","App Show")},onHide:function(){i("log","at App.vue:10","App Hide")}};const{app:_t,Vuex:Nt,Pinia:kt}=function(){const t=e.createVueApp(xt),n=function(){const t=e.effectScope(!0),n=t.run((()=>e.ref({})));let i=[],o=[];const r=e.markRaw({install(e){c(r),r._a=e,e.provide(u,r),e.config.globalProperties.$pinia=r,o.forEach((e=>i.push(e))),o=[]},use(e){return this._a?i.push(e):o.push(e),this},_p:i,_a:null,_e:t,_s:new Map,state:n});return r}();return t.use(n),{app:t,pinia:n}}();uni.Vuex=Nt,uni.Pinia=kt,_t.provide("__globalStyles",__uniConfig.styles),_t._component.mpType="app",_t._component.render=()=>{},_t.mount("#app")}(Vue);
